"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[97],{6314:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"week-5/ros2-parameters-launch-cli","title":"Week 5: ROS 2 Fundamentals: Parameters, Launch Files, and CLI Tools","description":"Learning Outcomes","source":"@site/docs/week-5/ros2-parameters-launch-cli.md","sourceDirName":"week-5","slug":"/week-5/ros2-parameters-launch-cli","permalink":"/physical-ai-robotics-textbook/docs/week-5/ros2-parameters-launch-cli","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammed-Haider/physical-ai-robotics-textbook/tree/main/docs/week-5/ros2-parameters-launch-cli.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions)","permalink":"/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns"},"next":{"title":"Week 6: Gazebo Simulation: Introduction and Basic Environment Setup","permalink":"/physical-ai-robotics-textbook/docs/week-6/gazebo-intro-setup"}}');var a=s(4848),r=s(8453);const t={},o="Week 5: ROS 2 Fundamentals: Parameters, Launch Files, and CLI Tools",l={},c=[{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Introduction: Orchestrating Your Robot&#39;s Brain",id:"introduction-orchestrating-your-robots-brain",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"1. ROS 2 Parameters: Dynamic Configuration (FR-005: Modular Mind)",id:"1-ros-2-parameters-dynamic-configuration-fr-005-modular-mind",level:3},{value:"2. ROS 2 Launch Files: Orchestrating Multi-Node Systems (FR-005: Modular Mind)",id:"2-ros-2-launch-files-orchestrating-multi-node-systems-fr-005-modular-mind",level:3},{value:"3. Essential ROS 2 Command-Line Tools (FR-005: Modular Mind)",id:"3-essential-ros-2-command-line-tools-fr-005-modular-mind",level:3},{value:"Hands-On Lab: Using ROS 2 Parameters and Launch Files (FR-002: Constructivist Activity)",id:"hands-on-lab-using-ros-2-parameters-and-launch-files-fr-002-constructivist-activity",level:2},{value:"Exercise 1: Dynamic Parameters and Basic Launch File (FR-003: Motivational Immersion)",id:"exercise-1-dynamic-parameters-and-basic-launch-file-fr-003-motivational-immersion",level:3},{value:"Creative Challenge: Multi-Node Orchestration (FR-004: Creative Synthesis)",id:"creative-challenge-multi-node-orchestration-fr-004-creative-synthesis",level:2},{value:"Real-World Application: Autonomous Vehicle Software Stack (FR-006: Contextual Humanity)",id:"real-world-application-autonomous-vehicle-software-stack-fr-006-contextual-humanity",level:2},{value:"Technology Deep Dive: ROS 2 Parameter Server vs. Node Parameters (FR-007: Technology Critique)",id:"technology-deep-dive-ros-2-parameter-server-vs-node-parameters-fr-007-technology-critique",level:2},{value:"Self-Check Assessment (FR-008: Reflective Assessment)",id:"self-check-assessment-fr-008-reflective-assessment",level:2},{value:"Before Moving On (FR-008: Reflective Assessment)",id:"before-moving-on-fr-008-reflective-assessment",level:2},{value:"Next Steps (FR-001: Developmental Staging)",id:"next-steps-fr-001-developmental-staging",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"week-5-ros-2-fundamentals-parameters-launch-files-and-cli-tools",children:"Week 5: ROS 2 Fundamentals: Parameters, Launch Files, and CLI Tools"})}),"\n",(0,a.jsx)(n.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,a.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Understand the concept and usage of ROS 2 parameters."}),"\n",(0,a.jsx)(n.li,{children:"Be able to create and use ROS 2 launch files for multi-node systems."}),"\n",(0,a.jsx)(n.li,{children:"Master essential ROS 2 command-line tools for debugging and introspection."}),"\n",(0,a.jsx)(n.li,{children:"Learn how to remap ROS 2 topics and nodes."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"introduction-orchestrating-your-robots-brain",children:"Introduction: Orchestrating Your Robot's Brain"}),"\n",(0,a.jsxs)(n.p,{children:["(FR-006: Contextual Humanity - ",(0,a.jsx)(n.em,{children:"Connecting advanced ROS 2 features to real-world robot operation"}),")\nIn Weeks 3 and 4, we dove into the communication backbone of ROS 2, mastering nodes, topics, services, and actions. We learned how different parts of a robot's software talk to each other. But how do you configure these software components? How do you start many of them together in a coordinated fashion? And how do you inspect what's happening within your robot's \"brain\" when things go wrong? This week, we unlock the power of ROS 2 parameters for dynamic configuration, explore launch files for orchestrating complex systems, and master command-line tools for debugging and introspection. These tools are indispensable for developing, deploying, and maintaining sophisticated robotic applications."]}),"\n",(0,a.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,a.jsx)(n.h3,{id:"1-ros-2-parameters-dynamic-configuration-fr-005-modular-mind",children:"1. ROS 2 Parameters: Dynamic Configuration (FR-005: Modular Mind)"}),"\n",(0,a.jsxs)(n.p,{children:["(FR-001: Developmental Staging - ",(0,a.jsx)(n.em,{children:"Building from fixed code to dynamic settings"}),")\nParameters are dynamic, runtime-configurable values that ROS 2 nodes can expose. They allow you to change a node's behavior without recompiling its code. For instance, a navigation node might have a ",(0,a.jsx)(n.code,{children:"robot_speed"})," parameter, which you can adjust on-the-fly to make the robot move faster or slower. Parameters are essentially key-value pairs (",(0,a.jsx)(n.code,{children:"name: value"}),")."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Dynamic"}),": Can be changed during runtime."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Persistent"}),": Can be loaded from configuration files."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Introspectable"}),": Can be inspected and modified via CLI tools."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Analogy"}),": (FR-004: Creative Synthesis)\nThink of a complex household appliance like a washing machine. It has different cycles (programs) that define its behavior. Parameters are like the settings you can adjust for a specific cycle \u2013 water temperature, spin speed, etc. \u2013 without changing the core functionality of the washing machine."]}),"\n",(0,a.jsx)(n.h3,{id:"2-ros-2-launch-files-orchestrating-multi-node-systems-fr-005-modular-mind",children:"2. ROS 2 Launch Files: Orchestrating Multi-Node Systems (FR-005: Modular Mind)"}),"\n",(0,a.jsxs)(n.p,{children:["(FR-001: Developmental Staging - ",(0,a.jsx)(n.em,{children:"Moving from single nodes to complex systems"}),")\nAs robotic systems grow, you'll have many nodes working together (e.g., camera driver, lidar driver, navigation, manipulation, control). Starting each node manually becomes tedious and error-prone. ROS 2 launch files (written in Python) provide a way to define and start multiple nodes, configure their parameters, and set up communication remappings in a single command."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Components of a Launch File"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Nodes"}),": Specify which executable nodes to start."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Parameters"}),": Set initial parameter values for nodes."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Remapping"}),": Change the names of topics, services, or actions used by nodes."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Includes"}),": Reuse parts of other launch files."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Conditionals"}),": Start nodes conditionally based on certain criteria."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"3-essential-ros-2-command-line-tools-fr-005-modular-mind",children:"3. Essential ROS 2 Command-Line Tools (FR-005: Modular Mind)"}),"\n",(0,a.jsxs)(n.p,{children:["(FR-001: Developmental Staging - ",(0,a.jsx)(n.em,{children:"Empowering learners with practical debugging skills"}),")\nROS 2 provides a powerful suite of command-line interface (CLI) tools, ",(0,a.jsx)(n.code,{children:"ros2 <command>"}),", for interacting with your running system. These are invaluable for development, debugging, and introspection."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Key CLI Tools"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 node"}),": List, info, get/set parameters of nodes."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 topic"}),": List, echo (view messages), info, pub (publish messages manually)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 service"}),": List, call, info."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 param"}),": List, get, set parameters of a node."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 launch"}),": Start launch files."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 run"}),": Run a single node."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ros2 pkg"}),": List, create packages."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"hands-on-lab-using-ros-2-parameters-and-launch-files-fr-002-constructivist-activity",children:"Hands-On Lab: Using ROS 2 Parameters and Launch Files (FR-002: Constructivist Activity)"}),"\n",(0,a.jsx)(n.h3,{id:"exercise-1-dynamic-parameters-and-basic-launch-file-fr-003-motivational-immersion",children:"Exercise 1: Dynamic Parameters and Basic Launch File (FR-003: Motivational Immersion)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Challenge Level"}),": Intermediate"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Objective"}),": Create a simple ROS 2 node that uses parameters, and then launch it using a Python launch file, dynamically setting its parameters."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Tools"}),": ROS 2 development environment. (FR-007: Technology Critique - This exercise directly demonstrates how to make nodes configurable and how to start systems robustly, essential skills for any ROS 2 developer.)"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Navigate to your ",(0,a.jsx)(n.code,{children:"my_first_package"})]}),": ",(0,a.jsx)(n.code,{children:"cd ~/ros2_ws/src/my_first_package/my_first_package"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Create a parameter node (",(0,a.jsx)(n.code,{children:"parameter_node.py"}),")"]}),":","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MinimalParameterNode(Node):\n\n    def __init__(self):\n        super().__init__('minimal_parameter_node')\n        self.declare_parameter('my_parameter', 'world') # Default value is 'world'\n\n        self.timer = self.create_timer(1.0, self.timer_callback)\n        self.get_logger().info('Minimal Parameter Node started!')\n\n    def timer_callback(self):\n        my_parameter = self.get_parameter('my_parameter').get_parameter_value().string_value\n        self.get_logger().info(f'Hello {my_parameter}!')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalParameterNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Add ",(0,a.jsx)(n.code,{children:"parameter_node.py"})," to ",(0,a.jsx)(n.code,{children:"setup.py"})," entry points"]}),":","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# ... (existing setup.py content) ...\nentry_points={\n    'console_scripts': [\n        'talker = my_first_package.publisher_node:main',\n        'listener = my_first_package.subscriber_node:main',\n        'parameter_node = my_first_package.parameter_node:main', # New entry\n    ],\n},\n# ...\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Build and source your workspace"}),":","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build\n. install/setup.bash\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Create a ",(0,a.jsx)(n.code,{children:"launch"})," directory in your package"]}),": ",(0,a.jsx)(n.code,{children:"mkdir ~/ros2_ws/src/my_first_package/launch"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Create a launch file (",(0,a.jsx)(n.code,{children:"launch/my_launch_file.py"}),")"]}),":","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_first_package',\n            executable='parameter_node',\n            name='custom_parameter_node',\n            parameters=[\n                {'my_parameter': 'ROS2'} # Override default parameter value\n            ],\n            output='screen'\n        )\n    ])\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Run the launch file"}),":","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_first_package my_launch_file.py\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Expected Output"}),": The ",(0,a.jsx)(n.code,{children:"custom_parameter_node"}),' will start and log "Hello ROS2!" messages, demonstrating that the parameter was successfully overridden by the launch file.']}),"\n",(0,a.jsx)(n.h2,{id:"creative-challenge-multi-node-orchestration-fr-004-creative-synthesis",children:"Creative Challenge: Multi-Node Orchestration (FR-004: Creative Synthesis)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Design Task"}),": Expand ",(0,a.jsx)(n.code,{children:"my_launch_file.py"})," to start both your ",(0,a.jsx)(n.code,{children:"talker"})," and ",(0,a.jsx)(n.code,{children:"listener"})," nodes from Week 4, along with the ",(0,a.jsx)(n.code,{children:"parameter_node"}),". Use parameter remapping to change the ",(0,a.jsx)(n.code,{children:"topic"})," name for the ",(0,a.jsx)(n.code,{children:"talker"})," and ",(0,a.jsx)(n.code,{children:"listener"})," nodes to ",(0,a.jsx)(n.code,{children:"chatter_topic"})," within the launch file. Verify communication with ",(0,a.jsx)(n.code,{children:"ros2 topic echo chatter_topic"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"real-world-application-autonomous-vehicle-software-stack-fr-006-contextual-humanity",children:"Real-World Application: Autonomous Vehicle Software Stack (FR-006: Contextual Humanity)"}),"\n",(0,a.jsx)(n.p,{children:"In an autonomous vehicle, a single launch file can start hundreds of nodes: sensor drivers (camera, lidar, radar), perception algorithms (object detection, lane keeping), planning modules (global and local planners), and control systems. Parameters allow tuning vehicle behavior (e.g., speed limits, following distance), while topic remapping enables flexible integration of different sensor hardware without code changes."}),"\n",(0,a.jsx)(n.h2,{id:"technology-deep-dive-ros-2-parameter-server-vs-node-parameters-fr-007-technology-critique",children:"Technology Deep Dive: ROS 2 Parameter Server vs. Node Parameters (FR-007: Technology Critique)"}),"\n",(0,a.jsxs)(n.p,{children:["(FR-001: Developmental Staging - ",(0,a.jsx)(n.em,{children:"Clarifying how parameters are managed"}),')\nIn ROS 1, there was a global "Parameter Server." In ROS 2, parameters are owned by individual nodes. This decentralized approach offers greater modularity and avoids a single point of failure, improving the robustness of complex systems. Nodes manage their own parameters, which can be dynamically queried and set by other nodes or CLI tools.']}),"\n",(0,a.jsx)(n.h2,{id:"self-check-assessment-fr-008-reflective-assessment",children:"Self-Check Assessment (FR-008: Reflective Assessment)"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"What is the primary benefit of using ROS 2 parameters, and how do you declare a parameter in a Python node?"}),"\n",(0,a.jsx)(n.li,{children:"Describe the main purpose of a ROS 2 launch file and list at least three types of elements it can define."}),"\n",(0,a.jsx)(n.li,{children:"Which ROS 2 CLI command would you use to see all the parameters of a specific node?"}),"\n",(0,a.jsxs)(n.li,{children:["How would you change the name of a topic from ",(0,a.jsx)(n.code,{children:"/camera_images"})," to ",(0,a.jsx)(n.code,{children:"/robot/camera_feed"})," for a node started within a launch file?"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"before-moving-on-fr-008-reflective-assessment",children:"Before Moving On (FR-008: Reflective Assessment)"}),"\n",(0,a.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can explain what ROS 2 parameters are and how to use them."]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I have successfully created and launched a ROS 2 node using a launch file."]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I have used ROS 2 CLI tools for parameter inspection."]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I understand the concept of topic remapping in launch files."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps-fr-001-developmental-staging",children:"Next Steps (FR-001: Developmental Staging)"}),"\n",(0,a.jsx)(n.p,{children:"In the next chapter, we will shift our focus from core ROS 2 concepts to simulating robots in virtual environments, beginning with Gazebo."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const a={},r=i.createContext(a);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);