<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-week-4/ros2-communication-patterns" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions) | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions) | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Learning Outcomes"><meta data-rh="true" property="og:description" content="Learning Outcomes"><link data-rh="true" rel="icon" href="/physical-ai-robotics-textbook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns"><link data-rh="true" rel="alternate" href="https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns" hreflang="en"><link data-rh="true" rel="alternate" href="https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions)","item":"https://Muhammed-Haider.github.io/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns"}]}</script><link rel="stylesheet" href="/physical-ai-robotics-textbook/assets/css/styles.ad3d35f5.css">
<script src="/physical-ai-robotics-textbook/assets/js/runtime~main.86dcc9d9.js" defer="defer"></script>
<script src="/physical-ai-robotics-textbook/assets/js/main.156dab55.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/physical-ai-robotics-textbook/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/physical-ai-robotics-textbook/"><div class="navbar__logo"><img src="/physical-ai-robotics-textbook/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/physical-ai-robotics-textbook/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/physical-ai-robotics-textbook/docs/intro">Tutorial</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Muhammed-Haider/physical-ai-robotics-textbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/physical-ai-robotics-textbook/docs/intro"><span title="Welcome to the Physical AI &amp; Humanoid Robotics Textbook" class="linkLabel_WmDU">Welcome to the Physical AI &amp; Humanoid Robotics Textbook</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/physical-ai-robotics-textbook/docs/week-1/physical-ai-foundations"><span title="Week 1-2: Physical AI Foundations" class="categoryLinkLabel_W154">Week 1-2: Physical AI Foundations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/physical-ai-robotics-textbook/docs/week-3/ros2-fundamentals-intro"><span title="Weeks 3-5: ROS 2 Fundamentals" class="categoryLinkLabel_W154">Weeks 3-5: ROS 2 Fundamentals</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/physical-ai-robotics-textbook/docs/week-3/ros2-fundamentals-intro"><span title="Week 3: ROS 2 Fundamentals: Introduction and Core Concepts" class="linkLabel_WmDU">Week 3: ROS 2 Fundamentals: Introduction and Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/physical-ai-robotics-textbook/docs/week-4/ros2-communication-patterns"><span title="Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions)" class="linkLabel_WmDU">Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions)</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/physical-ai-robotics-textbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Weeks 3-5: ROS 2 Fundamentals</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions)</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Week 4: ROS 2 Fundamentals: Communication Patterns (Topics, Services, Actions)</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learning-outcomes">Learning Outcomes<a href="#learning-outcomes" class="hash-link" aria-label="Direct link to Learning Outcomes" title="Direct link to Learning Outcomes" translate="no">​</a></h2>
<p>By the end of this chapter, you will be able to:</p>
<ol>
<li class="">Implement ROS 2 nodes that publish and subscribe to topics.</li>
<li class="">Create custom ROS 2 message types.</li>
<li class="">Implement ROS 2 services for request/response communication.</li>
<li class="">Understand the use cases for ROS 2 actions in long-running tasks.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction-the-language-of-ros-2-robots">Introduction: The Language of ROS 2 Robots<a href="#introduction-the-language-of-ros-2-robots" class="hash-link" aria-label="Direct link to Introduction: The Language of ROS 2 Robots" title="Direct link to Introduction: The Language of ROS 2 Robots" translate="no">​</a></h2>
<p>(FR-006: Contextual Humanity - <em>Connecting ROS 2 communication to how robots coordinate</em>)
In Week 3, we laid the foundation for ROS 2, understanding its architecture and setting up our first workspace. We learned that ROS 2 is essentially a sophisticated communication framework that allows different parts of a robot&#x27;s software to talk to each other. This week, we will dive deep into the diverse ways ROS 2 facilitates this communication: through Topics, Services, and Actions. Mastering these communication patterns is crucial for developing robust, distributed, and scalable robotic applications, enabling robots to share sensor data, request tasks, and execute complex behaviors collaboratively.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-concepts">Core Concepts<a href="#core-concepts" class="hash-link" aria-label="Direct link to Core Concepts" title="Direct link to Core Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-topics-asynchronous-data-streaming-fr-005-modular-mind">1. Topics: Asynchronous Data Streaming (FR-005: Modular Mind)<a href="#1-topics-asynchronous-data-streaming-fr-005-modular-mind" class="hash-link" aria-label="Direct link to 1. Topics: Asynchronous Data Streaming (FR-005: Modular Mind)" title="Direct link to 1. Topics: Asynchronous Data Streaming (FR-005: Modular Mind)" translate="no">​</a></h3>
<p>(FR-001: Developmental Staging - <em>Building on the basic definition from Week 3</em>)
Topics are the most common communication mechanism in ROS 2. They provide a publish-subscribe model, meaning nodes can send (publish) messages to a named topic, and other nodes can receive (subscribe to) messages from that topic. This is an asynchronous, one-to-many communication pattern, ideal for continuous streams of data like sensor readings (e.g., camera images, laser scans) or periodic status updates.</p>
<p><strong>Key Characteristics</strong>:</p>
<ul>
<li class=""><strong>Asynchronous</strong>: Publishers don&#x27;t wait for subscribers.</li>
<li class=""><strong>One-to-many</strong>: One publisher can have multiple subscribers.</li>
<li class=""><strong>Decoupled</strong>: Publishers and subscribers don&#x27;t need direct knowledge of each other.</li>
</ul>
<p><strong>Analogy</strong>: (FR-004: Creative Synthesis)
Think of a public radio broadcast. The radio station (publisher) broadcasts continuously on a specific frequency (topic). Many people (subscribers) can tune into that frequency to listen, without the station needing to know who is listening or waiting for anyone.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-creating-custom-message-types-fr-002-constructivist-activity">2. Creating Custom Message Types (FR-002: Constructivist Activity)<a href="#2-creating-custom-message-types-fr-002-constructivist-activity" class="hash-link" aria-label="Direct link to 2. Creating Custom Message Types (FR-002: Constructivist Activity)" title="Direct link to 2. Creating Custom Message Types (FR-002: Constructivist Activity)" translate="no">​</a></h3>
<p>While ROS 2 provides many standard message types, you often need to define custom messages to exchange application-specific data.</p>
<p><strong>Exercise 1: Define a Custom Message Type (FR-003: Motivational Immersion)</strong></p>
<p><strong>Challenge Level</strong>: Beginner</p>
<p><strong>Objective</strong>: Create a custom ROS 2 message definition for a simple robot status.</p>
<p><strong>Tools</strong>: ROS 2 development environment (Ubuntu with ROS 2 Humble). (FR-007: Technology Critique - Defining custom messages is fundamental for specialized robotic applications, allowing clear and efficient data representation.)</p>
<p><strong>Steps</strong>:</p>
<ol>
<li class="">
<p><strong>Navigate to your ROS 2 package</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws/src/my_first_package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir msg</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Create a message definition file (<code>msg/RobotStatus.msg</code>)</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># RobotStatus.msg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string robot_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint8 battery_level # 0-100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bool is_charging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string status_message</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Edit <code>package.xml</code></strong>: Add these lines inside the <code>&lt;build_depends&gt;</code> and <code>&lt;exec_depends&gt;</code> sections, and also add a <code>&lt;build_type&gt;</code>:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rosidl_default_generators</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rosidl_default_runtime</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">member_of_group</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rosidl_interface_packages</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">member_of_group</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Add or modify <code>&lt;build_type&gt;</code> to <code>&lt;build_type&gt;ament_cmake&lt;/build_type&gt;</code> if your package is C++, or keep <code>ament_python</code> if you&#x27;re mixing. For message generation, <code>ament_cmake</code> is often used, but it can work with <code>ament_python</code> too by ensuring <code>rosidl_default_generators</code> is in <code>build_depend</code>.</p>
</li>
<li class="">
<p><strong>Edit <code>CMakeLists.txt</code></strong>: Add the following lines to enable message generation:</p>
<div class="language-cmake codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmake codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find_package(rosidl_default_generators REQUIRED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rosidl_generate_interfaces(${PROJECT_NAME}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;msg/RobotStatus.msg&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Build your workspace</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colcon build</span><br></span></code></pre></div></div>
<p>This step will generate the necessary C++ and Python headers/code for your custom message.</p>
</li>
</ol>
<p><strong>Expected Output</strong>: The <code>colcon build</code> should succeed. You can verify the message generation by trying to <code>ros2 interface show my_first_package/msg/RobotStatus</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-services-request-response-interactions-fr-005-modular-mind">3. Services: Request-Response Interactions (FR-005: Modular Mind)<a href="#3-services-request-response-interactions-fr-005-modular-mind" class="hash-link" aria-label="Direct link to 3. Services: Request-Response Interactions (FR-005: Modular Mind)" title="Direct link to 3. Services: Request-Response Interactions (FR-005: Modular Mind)" translate="no">​</a></h3>
<p>Services provide a synchronous, one-to-one request/response communication. A node acts as a &quot;service server&quot; offering a specific function, and another node acts as a &quot;service client&quot; requesting that function. This is suitable for operations that need an immediate result, like &quot;turn on a light&quot; and getting a &quot;light is on&quot; confirmation.</p>
<p><strong>Analogy</strong>: (FR-004: Creative Synthesis)
Think of ordering food at a restaurant. You (client) make a request to the waiter (service server). The waiter takes your order, the kitchen prepares it, and the waiter brings you back your food (response). This is a direct, one-time interaction.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-actions-long-running-goal-oriented-tasks-fr-005-modular-mind">4. Actions: Long-Running Goal-Oriented Tasks (FR-005: Modular Mind)<a href="#4-actions-long-running-goal-oriented-tasks-fr-005-modular-mind" class="hash-link" aria-label="Direct link to 4. Actions: Long-Running Goal-Oriented Tasks (FR-005: Modular Mind)" title="Direct link to 4. Actions: Long-Running Goal-Oriented Tasks (FR-005: Modular Mind)" translate="no">​</a></h3>
<p>Actions are built on top of services and topics, designed for long-running, goal-oriented tasks that provide periodic feedback and can be preempted. For example, &quot;drive to the kitchen&quot; is an action. The robot provides feedback (&quot;I&#x27;m 20% there&quot;, &quot;I&#x27;m turning left&quot;) and can be cancelled before completion.</p>
<p><strong>Structure of an Action</strong>:</p>
<ul>
<li class=""><strong>Goal</strong>: What the client wants the server to achieve.</li>
<li class=""><strong>Result</strong>: What the server sends back when the goal is completed.</li>
<li class=""><strong>Feedback</strong>: Continuous updates on the progress of the goal.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="hands-on-lab-implementing-ros-2-publishers-and-subscribers-fr-002-constructivist-activity">Hands-On Lab: Implementing ROS 2 Publishers and Subscribers (FR-002: Constructivist Activity)<a href="#hands-on-lab-implementing-ros-2-publishers-and-subscribers-fr-002-constructivist-activity" class="hash-link" aria-label="Direct link to Hands-On Lab: Implementing ROS 2 Publishers and Subscribers (FR-002: Constructivist Activity)" title="Direct link to Hands-On Lab: Implementing ROS 2 Publishers and Subscribers (FR-002: Constructivist Activity)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercise-2-basic-publisher-and-subscriber-fr-003-motivational-immersion">Exercise 2: Basic Publisher and Subscriber (FR-003: Motivational Immersion)<a href="#exercise-2-basic-publisher-and-subscriber-fr-003-motivational-immersion" class="hash-link" aria-label="Direct link to Exercise 2: Basic Publisher and Subscriber (FR-003: Motivational Immersion)" title="Direct link to Exercise 2: Basic Publisher and Subscriber (FR-003: Motivational Immersion)" translate="no">​</a></h3>
<p><strong>Challenge Level</strong>: Intermediate</p>
<p><strong>Objective</strong>: Write a ROS 2 Python node that publishes &quot;Hello, World!&quot; messages and another node that subscribes to and prints them.</p>
<p><strong>Tools</strong>: ROS 2 development environment. (FR-007: Technology Critique - This exercise directly teaches the fundamental publish-subscribe pattern, essential for distributed robot control.)</p>
<p><strong>Steps</strong>:</p>
<ol>
<li class=""><strong>Navigate to your package</strong>: <code>cd ~/ros2_ws/src/my_first_package/my_first_package</code></li>
<li class=""><strong>Create a publisher node (<code>publisher_node.py</code>)</strong>:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">node </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> std_msgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">msg </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> String </span><span class="token comment" style="color:#999988;font-style:italic"># Standard ROS 2 string message type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MinimalPublisher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;minimal_publisher&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publisher_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_publisher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;topic&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># topic name, QoS history depth</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timer_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># seconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_timer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timer_period</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timer_callback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timer_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hello World: %d&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publisher_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Publishing: &quot;%s&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    minimal_publisher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MinimalPublisher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">minimal_publisher</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Keeps node alive until Ctrl+C</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    minimal_publisher</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destroy_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Create a subscriber node (<code>subscriber_node.py</code>)</strong>:<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">node </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> std_msgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">msg </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MinimalSubscriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;minimal_subscriber&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_subscription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;topic&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># topic name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listener_callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># QoS history depth</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subscription  </span><span class="token comment" style="color:#999988;font-style:italic"># prevent unused variable warning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">listener_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;I heard: &quot;%s&quot;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    minimal_subscriber </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MinimalSubscriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">minimal_subscriber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    minimal_subscriber</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destroy_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Edit <code>setup.py</code></strong>: Add entry points for your nodes.<!-- -->
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ... (existing setup.py content) ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">entry_points</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;console_scripts&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;talker = my_first_package.publisher_node:main&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;listener = my_first_package.subscriber_node:main&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Build and source your workspace</strong>:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colcon build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">. install/setup.bash</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Run the nodes (in separate terminals)</strong>:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run my_first_package talker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run my_first_package listener</span><br></span></code></pre></div></div>
</li>
</ol>
<p><strong>Expected Output</strong>: The <code>talker</code> terminal will show &quot;Publishing: Hello World: X&quot; messages, and the <code>listener</code> terminal will show &quot;I heard: Hello World: X&quot; messages, demonstrating successful communication.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creative-challenge-custom-message-communication-fr-004-creative-synthesis">Creative Challenge: Custom Message Communication (FR-004: Creative Synthesis)<a href="#creative-challenge-custom-message-communication-fr-004-creative-synthesis" class="hash-link" aria-label="Direct link to Creative Challenge: Custom Message Communication (FR-004: Creative Synthesis)" title="Direct link to Creative Challenge: Custom Message Communication (FR-004: Creative Synthesis)" translate="no">​</a></h2>
<p><strong>Design Task</strong>: Modify Exercise 2 to use your <code>RobotStatus.msg</code> custom message. Create a publisher that sends <code>RobotStatus</code> messages and a subscriber that receives and interprets them. Can you add logic to the subscriber to react differently based on the <code>battery_level</code> or <code>is_charging</code> status?</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-world-application-multi-robot-coordination-fr-006-contextual-humanity">Real-World Application: Multi-Robot Coordination (FR-006: Contextual Humanity)<a href="#real-world-application-multi-robot-coordination-fr-006-contextual-humanity" class="hash-link" aria-label="Direct link to Real-World Application: Multi-Robot Coordination (FR-006: Contextual Humanity)" title="Direct link to Real-World Application: Multi-Robot Coordination (FR-006: Contextual Humanity)" translate="no">​</a></h2>
<p>In scenarios like drone swarms or collaborative robot arms in a factory, ROS 2 communication patterns are indispensable. Topics allow drones to share their positions, services enable a lead drone to assign tasks to others, and actions manage long-duration missions with continuous feedback, ensuring the entire swarm operates as a cohesive unit.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="technology-deep-dive-quality-of-service-qos-in-ros-2-fr-007-technology-critique">Technology Deep Dive: Quality of Service (QoS) in ROS 2 (FR-007: Technology Critique)<a href="#technology-deep-dive-quality-of-service-qos-in-ros-2-fr-007-technology-critique" class="hash-link" aria-label="Direct link to Technology Deep Dive: Quality of Service (QoS) in ROS 2 (FR-007: Technology Critique)" title="Direct link to Technology Deep Dive: Quality of Service (QoS) in ROS 2 (FR-007: Technology Critique)" translate="no">​</a></h2>
<p>(FR-001: Developmental Staging - <em>Delving into advanced communication reliability</em>)
ROS 2&#x27;s use of DDS brings powerful Quality of Service (QoS) settings. QoS policies control aspects of communication like reliability (guaranteed delivery vs. best effort), history (keeping all messages vs. only the last N), and durability (sending past messages to new subscribers). Understanding and configuring QoS is vital for designing robust and predictable real-time robotic systems, especially in mission-critical applications.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="self-check-assessment-fr-008-reflective-assessment">Self-Check Assessment (FR-008: Reflective Assessment)<a href="#self-check-assessment-fr-008-reflective-assessment" class="hash-link" aria-label="Direct link to Self-Check Assessment (FR-008: Reflective Assessment)" title="Direct link to Self-Check Assessment (FR-008: Reflective Assessment)" translate="no">​</a></h2>
<ol>
<li class="">Describe a scenario where you would prefer using a ROS 2 Service over a Topic.</li>
<li class="">What are the three main components of a ROS 2 Action, and why are Actions suitable for long-running tasks?</li>
<li class="">You&#x27;ve created a custom <code>.msg</code> file. What are the key steps in <code>package.xml</code> and <code>CMakeLists.txt</code> to enable ROS 2 to recognize and generate code for it?</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-moving-on-fr-008-reflective-assessment">Before Moving On (FR-008: Reflective Assessment)<a href="#before-moving-on-fr-008-reflective-assessment" class="hash-link" aria-label="Direct link to Before Moving On (FR-008: Reflective Assessment)" title="Direct link to Before Moving On (FR-008: Reflective Assessment)" translate="no">​</a></h2>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->I can describe the difference between ROS 2 Topics, Services, and Actions.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->I have successfully defined a custom ROS 2 message type.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->I have implemented a basic ROS 2 publisher and subscriber using Python.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->I understand how to interpret and respond to simple sensor data in a ROS 2 context.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps-fr-001-developmental-staging">Next Steps (FR-001: Developmental Staging)<a href="#next-steps-fr-001-developmental-staging" class="hash-link" aria-label="Direct link to Next Steps (FR-001: Developmental Staging)" title="Direct link to Next Steps (FR-001: Developmental Staging)" translate="no">​</a></h2>
<p>In the next chapter, we will continue our exploration of ROS 2, focusing on advanced concepts like parameters, launch files, and basic client libraries for interacting with the ROS 2 ecosystem more effectively.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Muhammed-Haider/physical-ai-robotics-textbook/tree/main/docs/week-4/ros2-communication-patterns.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/physical-ai-robotics-textbook/docs/week-3/ros2-fundamentals-intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Week 3: ROS 2 Fundamentals: Introduction and Core Concepts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-outcomes" class="table-of-contents__link toc-highlight">Learning Outcomes</a></li><li><a href="#introduction-the-language-of-ros-2-robots" class="table-of-contents__link toc-highlight">Introduction: The Language of ROS 2 Robots</a></li><li><a href="#core-concepts" class="table-of-contents__link toc-highlight">Core Concepts</a><ul><li><a href="#1-topics-asynchronous-data-streaming-fr-005-modular-mind" class="table-of-contents__link toc-highlight">1. Topics: Asynchronous Data Streaming (FR-005: Modular Mind)</a></li><li><a href="#2-creating-custom-message-types-fr-002-constructivist-activity" class="table-of-contents__link toc-highlight">2. Creating Custom Message Types (FR-002: Constructivist Activity)</a></li><li><a href="#3-services-request-response-interactions-fr-005-modular-mind" class="table-of-contents__link toc-highlight">3. Services: Request-Response Interactions (FR-005: Modular Mind)</a></li><li><a href="#4-actions-long-running-goal-oriented-tasks-fr-005-modular-mind" class="table-of-contents__link toc-highlight">4. Actions: Long-Running Goal-Oriented Tasks (FR-005: Modular Mind)</a></li></ul></li><li><a href="#hands-on-lab-implementing-ros-2-publishers-and-subscribers-fr-002-constructivist-activity" class="table-of-contents__link toc-highlight">Hands-On Lab: Implementing ROS 2 Publishers and Subscribers (FR-002: Constructivist Activity)</a><ul><li><a href="#exercise-2-basic-publisher-and-subscriber-fr-003-motivational-immersion" class="table-of-contents__link toc-highlight">Exercise 2: Basic Publisher and Subscriber (FR-003: Motivational Immersion)</a></li></ul></li><li><a href="#creative-challenge-custom-message-communication-fr-004-creative-synthesis" class="table-of-contents__link toc-highlight">Creative Challenge: Custom Message Communication (FR-004: Creative Synthesis)</a></li><li><a href="#real-world-application-multi-robot-coordination-fr-006-contextual-humanity" class="table-of-contents__link toc-highlight">Real-World Application: Multi-Robot Coordination (FR-006: Contextual Humanity)</a></li><li><a href="#technology-deep-dive-quality-of-service-qos-in-ros-2-fr-007-technology-critique" class="table-of-contents__link toc-highlight">Technology Deep Dive: Quality of Service (QoS) in ROS 2 (FR-007: Technology Critique)</a></li><li><a href="#self-check-assessment-fr-008-reflective-assessment" class="table-of-contents__link toc-highlight">Self-Check Assessment (FR-008: Reflective Assessment)</a></li><li><a href="#before-moving-on-fr-008-reflective-assessment" class="table-of-contents__link toc-highlight">Before Moving On (FR-008: Reflective Assessment)</a></li><li><a href="#next-steps-fr-001-developmental-staging" class="table-of-contents__link toc-highlight">Next Steps (FR-001: Developmental Staging)</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Textbook</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/physical-ai-robotics-textbook/docs/intro">Introduction</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Muhammed-Haider/physical-ai-robotics-textbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Panaversity. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>